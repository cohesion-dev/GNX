<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNX API 测试页面</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>GNX 漫画生成系统 - API 测试</h1>
        
        <div class="section">
            <h2>1. 获取漫画列表</h2>
            <button onclick="getComics()">获取漫画列表</button>
            <pre id="comics-result"></pre>
        </div>

        <div class="section">
            <h2>2. 上传小说创建漫画</h2>
            <div class="form-group">
                <label>标题：</label>
                <input type="text" id="comic-title" placeholder="输入漫画标题">
            </div>
            <div class="form-group">
                <label>提示词：</label>
                <textarea id="user-prompt" placeholder="输入用户提示词"></textarea>
            </div>
            <div class="form-group">
                <label>小说文件：</label>
                <input type="file" id="novel-file" accept=".txt,.docx">
            </div>
            <button onclick="uploadNovel()">上传并创建漫画</button>
            <pre id="upload-result"></pre>
        </div>

        <div class="section">
            <h2>3. 获取漫画详情</h2>
            <div class="form-group">
                <label>漫画ID：</label>
                <input type="text" id="comic-id" placeholder="输入漫画ID">
            </div>
            <button onclick="getComicDetail()">获取详情</button>
            <pre id="detail-result"></pre>
        </div>

        <div class="section">
            <h2>4. 创建新章节</h2>
            <div class="form-group">
                <label>漫画ID：</label>
                <input type="text" id="section-comic-id" placeholder="输入漫画ID">
            </div>
            <div class="form-group">
                <label>章节标题：</label>
                <input type="text" id="section-title" placeholder="输入章节标题">
            </div>
            <div class="form-group">
                <label>章节内容：</label>
                <textarea id="section-content" placeholder="输入章节内容"></textarea>
            </div>
            <button onclick="createSection()">创建章节</button>
            <pre id="section-result"></pre>
        </div>

        <div class="section">
            <h2>5. 获取章节详情</h2>
            <div class="form-group">
                <label>漫画ID：</label>
                <input type="text" id="section-detail-comic-id" placeholder="输入漫画ID">
            </div>
            <div class="form-group">
                <label>章节ID：</label>
                <input type="text" id="section-detail-id" placeholder="输入章节ID">
            </div>
            <button onclick="getSectionDetail()">获取章节详情</button>
            <pre id="section-detail-result"></pre>
        </div>

        <div class="section">
            <h2>6. 获取图片URL</h2>
            <div class="form-group">
                <label>图片ID：</label>
                <input type="text" id="image-id" placeholder="输入图片ID">
            </div>
            <button onclick="getImageUrl()">获取图片链接</button>
            <pre id="image-result"></pre>
            <div id="image-preview"></div>
        </div>

        <div class="section">
            <h2>7. 播放TTS音频</h2>
            <div class="form-group">
                <label>TTS ID：</label>
                <input type="text" id="tts-id" placeholder="输入TTS ID">
            </div>
            <button onclick="playTTS()">播放音频</button>
            <div id="audio-player"></div>
        </div>

        <div class="section">
            <h2>配置</h2>
            <div class="form-group">
                <label>API Base URL：</label>
                <input type="text" id="api-base-url" value="http://localhost:8000" placeholder="http://localhost:8000">
            </div>
            <button onclick="saveConfig()">保存配置</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
